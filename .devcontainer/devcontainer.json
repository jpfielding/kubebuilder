{
  "name": "${localWorkspaceFolderBasename}",
  "build": {
    "dockerfile": "Dockerfile",
    "context": ".",
    "target": "user",
    "args": {
      "USERNAME": "${localEnv:USER:k8s}"
    }
  },
  "customizations": {
    "vscode": {
      "extensions": [
        "golang.go",
        "eamodio.gitlens",
        "Anthropic.claude-code",
        "openai.chatgpt"
      ]
    }
  },
  "mounts": [
    {
      "type": "bind",
      "source": "${localEnv:HOME}/.gitconfig",
      "target": "/home/${localEnv:USER:k8s}/.gitconfig"
    },
    {
      "type": "bind",
      "source": "${localEnv:HOME}/.netrc",
      "target": "/home/${localEnv:USER:k8s}/.netrc"
    },
    {
      "type": "bind",
      "source": "${localEnv:HOME}/.git-credentials",
      "target": "/home/${localEnv:USER:k8s}/.git-credentials"
    },
    {
      "type": "bind",
      "source": "${localEnv:HOME}/.ssh",
      "target": "/home/${localEnv:USER:k8s}/.ssh"
    },
    {
      "type": "bind",
      "source": "${localEnv:HOME}/.gemini",
      "target": "/home/${localEnv:USER:k8s}/.gemini"
    },
    {
      "type": "bind",
      "source": "${localEnv:HOME}/.claude",
      "target": "/home/${localEnv:USER:k8s}/.claude"
    },
    {
      "type": "bind",
      "source": "${localEnv:HOME}/.codex",
      "target": "/home/${localEnv:USER:k8s}/.codex"
    },
    {
      "type": "bind",
      "source": "${localEnv:HOME}/.kube-${localWorkspaceFolderBasename}",
      "target": "/home/${localEnv:USER:k8s}/.kube"
    },
    {
      "type": "bind",
      "source": "/var/run/docker.sock",
      "target": "/var/run/docker.sock"
    },
    {
      "type": "bind",
      "source": "${localEnv:HOME}/.bash_history_${localWorkspaceFolderBasename}",
      "target": "/home/${localEnv:USER:k8s}/.bash_history"
    }
  ],
  "workspaceMount": "source=${localWorkspaceFolder},target=/workdir/${localWorkspaceFolderBasename},type=bind,consistency=cached",
  "workspaceFolder": "/workdir/${localWorkspaceFolderBasename}",
  "initializeCommand": {
    "netrc": "touch ${localEnv:HOME}/.netrc",
    "ssh dir": "mkdir -p ${localEnv:HOME}/.ssh",
    "kube dir": "mkdir -p ${localEnv:HOME}/.kube-${localWorkspaceFolderBasename}",
    "gitconfig": "touch ${localEnv:HOME}/.gitconfig",
    "git creds": "touch ${localEnv:HOME}/.git-credentials",
    "gemini": "mkdir -p ${localEnv:HOME}/.gemini || true",
    "claude": "mkdir -p ${localEnv:HOME}/.claude || true",
    "bash history": "touch ${localEnv:HOME}/.bash_history_${localWorkspaceFolderBasename}"
  },
  "forwardPorts": []
}